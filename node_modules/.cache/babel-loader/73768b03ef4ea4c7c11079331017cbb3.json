{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nitsevetedavid/Desktop/pix/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/nitsevetedavid/Desktop/pix/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/nitsevetedavid/Desktop/pix/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nitsevetedavid/Desktop/pix/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nitsevetedavid/Desktop/pix/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nitsevetedavid/Desktop/pix/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nitsevetedavid/Desktop/pix/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nitsevetedavid/Desktop/pix/src/components/App.js\";\nimport flickr from \"../api/flickr\";\nimport SearchBar from \"./SearchBar/SearchBar\";\nimport ImageList from \"./ImageList/ImageList\";\nimport \"./App.css\";\nimport React from \"react\";\nvar API_KEY = \"bac9f1ccfd854f27894fd47c4f01b1e8\";\nvar NUM_OF_IMGS = 40;\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      imgs: [],\n      index: 1,\n      term: \"\"\n    };\n\n    _this.onSearchSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(term) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.setState({\n                  term: term\n                });\n\n                if (term) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _this.setState({\n                  imgs: []\n                });\n\n                _context.next = 9;\n                break;\n\n              case 5:\n                _context.next = 7;\n                return flickr.get(\"services/rest/?method=flickr.photos.search\", {\n                  params: {\n                    text: term,\n                    safe_search: 1,\n                    format: \"json\",\n                    nojsoncallback: 1,\n                    api_key: API_KEY,\n                    content_type: 1,\n                    is_getty: 1,\n                    per_page: NUM_OF_IMGS\n                  }\n                });\n\n              case 7:\n                res = _context.sent;\n\n                _this.setState({\n                  imgs: res.data.photos.photo\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"app-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        onSubmit: this.onSearchSubmit,\n        termValue: this.state.term,\n        term: this.state.term,\n        onSearch: this.onSearchSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), !this.state.term ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }) : React.createElement(ImageList, {\n        imgs: this.state.imgs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/nitsevetedavid/Desktop/pix/src/components/App.js"],"names":["flickr","SearchBar","ImageList","React","API_KEY","NUM_OF_IMGS","App","state","imgs","index","term","onSearchSubmit","setState","get","params","text","safe_search","format","nojsoncallback","api_key","content_type","is_getty","per_page","res","data","photos","photo","Component"],"mappings":";;;;;;;;AAAA,OAAOA,MAAP,MAAmB,eAAnB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,kCAAhB;AACA,IAAMC,WAAW,GAAG,EAApB;;IAEMC,G;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AAAEC,MAAAA,IAAI,EAAE,EAAR;AAAYC,MAAAA,KAAK,EAAE,CAAnB;AAAsBC,MAAAA,IAAI,EAAE;AAA5B,K;;UAERC,c;;;;;+BAAiB,iBAAMD,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACf,sBAAKE,QAAL,CAAc;AAAEF,kBAAAA,IAAI,EAAJA;AAAF,iBAAd;;AADe,oBAEVA,IAFU;AAAA;AAAA;AAAA;;AAEJ,sBAAKE,QAAL,CAAc;AAAEJ,kBAAAA,IAAI,EAAE;AAAR,iBAAd;;AAFI;AAAA;;AAAA;AAAA;AAAA,uBAIKR,MAAM,CAACa,GAAP,CAChB,4CADgB,EAEhB;AACEC,kBAAAA,MAAM,EAAE;AACNC,oBAAAA,IAAI,EAAEL,IADA;AAENM,oBAAAA,WAAW,EAAE,CAFP;AAGNC,oBAAAA,MAAM,EAAE,MAHF;AAINC,oBAAAA,cAAc,EAAE,CAJV;AAKNC,oBAAAA,OAAO,EAAEf,OALH;AAMNgB,oBAAAA,YAAY,EAAE,CANR;AAONC,oBAAAA,QAAQ,EAAE,CAPJ;AAQNC,oBAAAA,QAAQ,EAAEjB;AARJ;AADV,iBAFgB,CAJL;;AAAA;AAIPkB,gBAAAA,GAJO;;AAmBb,sBAAKX,QAAL,CAAc;AAAEJ,kBAAAA,IAAI,EAAEe,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAgBC;AAAxB,iBAAd;;AAnBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;6BAuBR;AACP,aACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAW,QAAA,QAAQ,EAAE,KAAKf,cAA1B;AAA0C,QAAA,SAAS,EAAE,KAAKJ,KAAL,CAAWG,IAAhE;AAAsE,QAAA,IAAI,EAAE,KAAKH,KAAL,CAAWG,IAAvF;AAA6F,QAAA,QAAQ,EAAE,KAAKC,cAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEG,CAAC,KAAKJ,KAAL,CAAWG,IAAZ,GACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,GAGC,oBAAC,SAAD;AAAW,QAAA,IAAI,EAAE,KAAKH,KAAL,CAAWC,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CADF;AAUD;;;;EArCeL,KAAK,CAACwB,S;;AAwCxB,eAAerB,GAAf","sourcesContent":["import flickr from \"../api/flickr\";\nimport SearchBar from \"./SearchBar/SearchBar\";\nimport ImageList from \"./ImageList/ImageList\";\nimport \"./App.css\";\nimport React from \"react\";\n\nconst API_KEY = \"bac9f1ccfd854f27894fd47c4f01b1e8\";\nconst NUM_OF_IMGS = 40;\n\nclass App extends React.Component {\n  state = { imgs: [], index: 1, term: \"\" };\n\n  onSearchSubmit = async term => {\n    this.setState({ term });\n    if (!term) this.setState({ imgs: [] });\n    else {\n      const res = await flickr.get(\n        \"services/rest/?method=flickr.photos.search\",\n        {\n          params: {\n            text: term,\n            safe_search: 1,\n            format: \"json\",\n            nojsoncallback: 1,\n            api_key: API_KEY,\n            content_type: 1,\n            is_getty: 1,\n            per_page: NUM_OF_IMGS\n          }\n        }\n      );\n      this.setState({ imgs: res.data.photos.photo });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"app-container\">\n        <SearchBar onSubmit={this.onSearchSubmit} termValue={this.state.term} term={this.state.term} onSearch={this.onSearchSubmit}/>\n        {!this.state.term ? (\n         <span></span>\n        ) : (\n          <ImageList imgs={this.state.imgs} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}